test() {
	if [ -z "$1" ]; then
		../push_swap $1 >out
		[ -z $(cat -e out) ] && echo OK || echo KO
		rm out
	else
		../push_swap $1 >out
		./checker $1 <out >out_checker
		[ $(cat out_checker) = "OK" ] && echo OK || echo KO
		rm out
		rm out_checker
	fi
}

test ""
test "1 2"
test "2 1"
test "2 1 3"
test "2 4 5 3 1"
test "324 234 325 34 3 1"
test "2 4 5 3 1 32 324 23 80 81 35 54"

echo 500:
test "9 178 477 416 206 335 439 188 130 372 358 321 369 67 23 288 448 411 19 80 65 96 339 476 237 174 11 236 350 263 33 161 229 402 429 78 121 21 431 326 59 101 426 221 26 81 98 134 438 253 397 364 303 337 390 180 331 18 376 452 144 469 190 51 17 42 267 64 444 407 314 217 329 49 58 406 34 481 90 309 298 475 423 193 156 305 274 261 412 139 182 213 120 224 93 461 31 94 153 201 147 245 493 327 296 131 191 226 53 74 219 266 40 332 490 79 415 57 234 225 318 84 172 432 304 125 68 5 146 449 10 387 50 319 200 492 282 275 71 286 310 374 242 4 27 232 87 344 268 209 197 152 211 308 450 127 404 92 108 487 484 453 355 403 391 177 157 480 488 132 169 385 41 198 382 113 479 297 15 414 47 70 360 485 307 28 323 354 264 167 258 148 278 187 116 173 447 408 459 111 419 420 246 456 380 365 290 471 159 192 259 44 499 442 151 223 138 392 357 66 265 333 373 104 3 292 102 110 117 135 280 239 470 465 54 129 13 63 409 349 154 371 418 24 400 72 436 164 171 395 336 222 430 204 389 276 168 463 76 496 251 254 89 322 2 393 114 472 46 293 118 440 244 378 352 186 466 313 62 320 381 39 363 77 231 124 158 252 428 281 468 91 368 75 421 347 248 145 291 270 256 311 348 279 474 199 489 184 83 115 250 218 212 458 202 55 37 294 356 343 162 215 495 255 413 123 361 238 214 351 228 359 437 434 179 379 325 398 150 88 427 235 316 260 240 497 205 56 35 366 445 346 370 467 341 95 482 7 295 12 122 43 203 109 441 345 328 16 48 136 69 405 285 126 433 36 451 375 103 106 457 446 460 241 32 417 464 112 208 483 220 455 149 85 302 383 189 486 340 301 142 160 262 45 8 243 425 61 317 155 410 1 334 230 257 384 14 287 175 498 207 247 25 183 324 181 249 312 454 176 377 283 386 399 143 82 73 233 443 107 29 38 500 272 306 216 119 97 330 435 52 396 137 99 277 284 315 210 271 128 141 422 388 362 494 338 100 401 227 22 163 473 269 273 195 30 194 289 491 299 300 367 424 140 170 394 166 6 86 20 462 165 60 185 342 478 105 353 196 133"
test "464 214 223 346 393 149 289 187 315 52 158 454 475 333 126 139 362 287 190 238 196 375 203 419 89 351 493 88 25 26 344 436 245 352 224 358 36 332 342 420 270 40 138 243 39 93 273 107 355 354 343 121 13 467 99 411 380 20 113 100 58 83 180 57 272 329 174 404 429 331 63 345 450 474 80 3 246 55 413 112 237 164 472 305 428 234 330 264 308 396 446 374 408 111 422 283 300 193 127 378 120 115 451 495 24 468 62 204 182 68 490 47 177 430 261 448 109 291 94 317 297 79 60 124 108 207 35 5 256 442 16 167 423 7 367 370 22 348 197 480 159 319 487 212 161 341 421 359 268 185 215 326 400 114 459 217 14 73 135 479 75 499 258 381 133 427 240 372 66 253 437 290 84 336 340 96 415 325 458 21 175 4 90 335 286 227 284 387 357 414 53 324 438 160 309 255 209 452 129 51 166 444 405 281 310 74 275 469 230 339 471 19 222 184 498 229 186 293 148 311 399 383 145 216 347 146 455 54 435 137 78 248 349 350 1 198 45 328 181 211 169 232 44 314 61 67 299 64 322 453 34 143 434 316 150 172 301 231 489 98 110 461 445 481 87 105 491 220 151 369 318 385 439 221 206 483 179 465 482 260 265 48 76 409 125 298 235 173 17 456 85 267 269 294 466 389 416 11 144 441 257 412 394 12 402 476 313 41 33 82 321 252 406 251 42 266 384 250 373 188 262 102 285 398 236 353 71 263 117 27 194 424 356 130 142 154 29 152 226 337 119 157 70 447 56 295 363 46 304 376 241 323 233 361 32 303 171 49 15 364 377 239 254 418 8 278 327 259 59 368 163 271 178 162 320 247 123 104 395 6 462 492 382 302 277 10 449 106 485 433 170 388 219 496 307 280 134 92 189 97 417 457 101 366 365 306 440 288 213 401 282 192 116 392 165 2 276 31 128 500 460 425 183 470 410 38 228 296 390 334 386 463 497 37 201 199 65 43 208 168 225 23 136 132 141 210 18 50 86 397 202 81 274 431 28 477 9 244 95 484 379 200 195 292 191 155 242 118 249 91 147 407 153 486 176 69 122 338 391 494 360 371 72 488 218 478 30 156 205 432 279 312 77 403 473 140 443 131 103 426"
test "204 497 8 353 453 425 175 341 148 263 402 195 399 186 360 31 400 384 253 14 32 73 183 336 65 417 85 284 178 4 207 196 444 487 408 430 190 25 61 69 470 182 15 432 3 317 379 225 34 397 200 228 338 289 176 187 141 259 114 362 310 84 350 333 244 422 265 364 498 247 214 434 309 401 415 249 288 116 135 351 125 459 227 118 7 342 304 165 427 194 293 386 245 300 382 448 198 441 45 127 92 251 220 258 255 53 286 374 375 210 174 388 242 19 339 66 79 367 83 177 407 355 59 107 349 299 429 277 128 436 21 231 475 438 285 184 208 473 86 50 363 1 392 467 153 389 485 199 321 51 297 11 280 466 302 58 279 24 138 46 26 10 52 257 325 426 39 88 130 322 393 398 420 29 491 110 486 256 340 160 216 221 268 248 108 115 77 488 313 102 42 315 275 405 396 150 390 240 146 484 404 145 418 483 356 290 243 298 99 428 443 490 450 474 403 344 191 217 64 189 119 377 500 44 162 454 180 291 201 95 30 96 381 281 478 373 412 20 451 168 122 414 197 345 78 262 87 74 346 173 188 71 57 294 449 455 416 261 121 495 43 347 283 328 250 271 274 303 49 492 296 357 211 93 132 306 371 181 212 91 193 239 266 308 154 316 224 445 124 447 179 152 222 370 209 147 120 359 421 334 456 131 394 232 446 287 358 460 372 230 126 133 462 60 335 166 129 223 468 431 47 260 323 36 27 82 159 40 307 142 435 496 172 472 206 202 380 54 276 155 12 72 365 423 354 241 62 109 235 419 411 28 81 136 327 103 326 464 63 457 469 18 424 433 273 413 158 149 320 494 366 493 143 410 219 6 234 337 233 5 409 215 185 37 94 376 378 17 481 465 163 76 106 237 391 368 361 171 348 55 463 458 452 170 439 111 352 329 269 270 238 479 385 324 254 314 23 16 67 267 461 292 80 100 305 97 442 22 192 489 395 35 156 113 164 140 169 229 252 41 205 203 161 246 70 157 9 282 38 312 90 330 476 56 117 406 480 331 123 272 301 387 218 33 137 144 264 112 89 2 226 139 101 213 471 68 48 236 319 369 295 134 311 75 167 440 105 332 477 318 383 151 482 499 104 13 98 278 343 437"
